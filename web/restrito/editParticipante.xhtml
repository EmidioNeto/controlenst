<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.prime.com.tr/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <body>

        <ui:composition template="../template/template.xhtml">

            <ui:define name="content">
                <h:form id="form" prependId="false">  
  
                    <p:growl id="msgs" />  

                    <p:panel header="Editar Participante">  
                        <h:panelGrid columns="4" id="grid">
                            <h:outputLabel value="Nome*" />                           
                            <p:inputText id="edit_txt_nome" value="#{ParticipanteBean.participante.nome}" required="true" requiredMessage="Nome é um campo requerido!"/>
                            
                            <h:outputLabel value="E-mail*" />                           
                            <p:inputText id="edit_txt_email" value="#{ParticipanteBean.emailParticipante.descricao}" required="true" requiredMessage="E-mail é um campo requerido!"/>
                            
                            <h:outputLabel value="Matrícula*" />                           
                            <p:inputText id="edit_txt_matricula" value="#{ParticipanteBean.participante.matricula}" required="true" requiredMessage="Matrícula é um campo requerido!"/>
                            
                            <h:outputLabel value="Telefone*" />
                            <h:panelGrid columns="2" id="grid_telefone">                                                           
                                <p:inputText id="edit_txt_ddd" maxlength="3" size="3" value="#{ParticipanteBean.telefoneParticipante.ddd}" required="true" requiredMessage="DDD é um campo requerido!"/>
                                <p:inputText id="edit_txt_telefone" maxlength="9" size="9" value="#{ParticipanteBean.telefoneParticipante.telefone}" required="true" requiredMessage="Telefone é um campo requerido!"/>
                            </h:panelGrid>
                            
                            <h:outputLabel value="Curso*" />                           
                            <h:selectOneMenu id="selectCurso" value="#{ParticipanteBean.id_curso}" required="true" requiredMessage="Curso é um campo requerido!">
                                <f:selectItem itemValue="" itemLabel="Selecione..." />
                                <f:selectItems value="#{ParticipanteBean.listaCurso}"/>
                            </h:selectOneMenu>
                            
                            <h:outputLabel value="Cargo*" />
                            <h:selectOneMenu id="selectCargo" value="#{ParticipanteBean.id_cargo}" required="true" requiredMessage="Cargo é um campo requerido!">
                                <f:selectItem itemValue="" itemLabel="Selecione..." />
                                <f:selectItems value="#{ParticipanteBean.listaCargos}" />
                            </h:selectOneMenu>

                            <h:outputLabel value="Vinculo com o Núcleo*" />   
                            <h:selectOneMenu id="selectVinculo" value="#{ParticipanteBean.id_vinculo}" required="true" requiredMessage="Vinculo é um campo requerido!">
                                <f:selectItem itemValue="" itemLabel="Selecione..." />
                                <f:selectItems value="#{ParticipanteBean.listaVinculos}" />
                            </h:selectOneMenu>
                            
                            <h:outputLabel value="Semestre*" />   
                            <h:selectOneMenu id="selectSemestre" value="#{ParticipanteBean.semestre}" required="true" requiredMessage="Semestre é um campo requerido!">
                                <f:selectItem itemValue="" itemLabel="Selecione..." />
                                <f:selectItem itemValue="1" itemLabel="1º Semestre" />
                                <f:selectItem itemValue="2" itemLabel="2º Semestre" />
                                <f:selectItem itemValue="3" itemLabel="3º Semestre" />
                                <f:selectItem itemValue="4" itemLabel="4º Semestre" />
                                <f:selectItem itemValue="5" itemLabel="5º Semestre" />
                                <f:selectItem itemValue="6" itemLabel="6º Semestre" />
                                <f:selectItem itemValue="7" itemLabel="7º Semestre" />
                                <f:selectItem itemValue="8" itemLabel="8º Semestre" />
                                <f:selectItem itemValue="9" itemLabel="9º Semestre" />
                                <f:selectItem itemValue="10" itemLabel="10º Semestre" />
                            </h:selectOneMenu>
                            
                            
                            <h:outputLabel value="Tipo de Ingresso*" />   
                            <h:selectOneMenu id="selectTipoIngresso" value="#{ParticipanteBean.id_tipo_ingresso}" required="true" requiredMessage="Tipo de Ingresso é um campo requerido!">
                                <f:selectItem itemValue="" itemLabel="Selecione..." />
                                <f:selectItems value="#{ParticipanteBean.listaTipoIngresso}" />
                            </h:selectOneMenu>
                            
                            <h:outputLabel value="     " />   
                            <h:outputLabel value="     " />
                            
                            <h:outputLabel value="Data Início*" />                               
                            <p:calendar value="#{ParticipanteBean.data_entrada}" showOn="button" required="true" requiredMessage="Data Início é um campo requerido!"/>
                            
                            
                            <h:outputLabel value="Data Saída" />   
                            <p:calendar value="#{ParticipanteBean.data_saida}" showOn="button"/>
                            
                            <h:outputLabel value="Projeto*" />                               
                            <h:selectOneMenu id="selectProjeto" value="#{ParticipanteBean.id_projeto}" required="true" requiredMessage="Projeto é um campo requerido!">
                                <f:selectItem itemValue="" itemLabel="Selecione..." />
                                <f:selectItems value="#{ParticipanteBean.listaProjeto}" />
                            </h:selectOneMenu>
                            
                            
                            <h:outputLabel value="Motivo de Saída" />   
                            <h:selectOneMenu id="selectMotivo" value="#{ParticipanteBean.id_motivo_saida}">
                                <f:selectItem itemValue="" itemLabel="Selecione..." />
                                <f:selectItems value="#{ParticipanteBean.listaMotivoSaida}" />
                            </h:selectOneMenu>                          
                            
                            </h:panelGrid>  
                            
                        <p:commandButton immediate="false" value="Editar Participante" ajax="false" action="#{ParticipanteBean.inserirParticipante()}" />

                        
                    </p:panel>  
                    <p:outputPanel>  
                        <p:dataTable id="projetos" emptyMessage="Não há histórico para este participante!" value="#{ParticipanteBean.listaHistoricoPaticipante}" var="historico">  

                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="Curso" />  
                                </f:facet>  
                                <h:outputText value="#{historico.curso.descricao}" />
                            </p:column>  

                            <p:column >  
                                <f:facet name="header" >  
                                    <h:outputText value="Semestre" />  
                                </f:facet>  
                                <h:outputText value="#{historico.semestre}" />
                            </p:column>  

                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="Tipo Adimissão" />  
                                </f:facet>  
                                <h:outputText value="#{historico.tipoIngresso.descricao}" />
                            </p:column>
                            
                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="Vinculo" />  
                                </f:facet>  
                                <h:outputText value="#{historico.vinculo.descricao}" />
                            </p:column>
                            
                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="Situação" />  
                                </f:facet>  
                                <h:outputText value="#{historico.cargo.descricao}" />
                            </p:column>
                            
                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="Projeto" />  
                                </f:facet>  
                                <h:outputText value="#{historico.projeto.descricao}" />
                            </p:column>
                            
                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="Data Inicio" />  
                                </f:facet>  
                                <h:outputText value="#{historico.entrada}" >
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>  
                                </h:outputText>
                            </p:column>
                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="Data Fim" />  
                                </f:facet>  
                                <h:outputText value="#{historico.saida}" >
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>  
                                </h:outputText>
                            </p:column>
                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="Motivo Saída" />  
                                </f:facet>  
                                <h:outputText value="#{historico.motivoSaida.descricao}" />
                            </p:column>

                        </p:dataTable>  
                    </p:outputPanel>
                </h:form>
            </ui:define>

        </ui:composition>

    </body>
</html>
